# Agent命令加载器

## 命令识别和加载规则

当用户输入以下命令时，自动加载对应的Agent角色：

### 产品经理 - /pm
```
触发: /pm [任务]
加载: @agents/.claude/prompts/pm.md
角色: 产品经理
职责: 需求分析、PRD编写、用户故事、功能规划
```

### UI设计师 - /ui 或 /designer
```
触发: /ui [任务] 或 /designer [任务]
加载: @agents/.claude/prompts/designer.md
角色: UI/UX设计师
职责: 界面设计、用户体验、设计规范、原型设计
```

### 前端工程师 - /fe 或 /frontend
```
触发: /fe [任务] 或 /frontend [任务]
加载: @agents/.claude/prompts/frontend.md
角色: 前端工程师
职责: Web开发、组件实现、性能优化、前端架构
```

### 后端工程师 - /be 或 /backend
```
触发: /be [任务] 或 /backend [任务]
加载: @agents/.claude/prompts/backend.md
角色: 后端工程师
职责: API开发、数据库设计、系统架构、性能优化
```

## 命令执行示例

### 示例1: 产品需求分析
```
用户输入: /pm 设计一个任务管理系统
系统响应: 
1. 加载产品经理角色定义
2. 基于pm.md的规范执行需求分析
3. 输出PRD文档和用户故事
```

### 示例2: UI设计
```
用户输入: /ui 设计任务列表页面
系统响应:
1. 加载UI设计师角色定义
2. 基于designer.md的规范设计界面
3. 输出设计规范和组件说明
```

### 示例3: 前端开发
```
用户输入: /fe 实现任务卡片组件
系统响应:
1. 加载前端工程师角色定义
2. 基于frontend.md的规范开发组件
3. 输出React/Vue组件代码
```

### 示例4: 后端开发
```
用户输入: /be 设计任务CRUD接口
系统响应:
1. 加载后端工程师角色定义
2. 基于backend.md的规范设计API
3. 输出API文档和数据库设计
```

## 角色切换和上下文保持

1. **自动切换**: 使用新命令时自动切换到对应角色
2. **上下文保持**: 在同一角色下连续执行任务时保持上下文
3. **显式退出**: 使用 `/exit` 或新命令退出当前角色
4. **状态查询**: 使用 `/status` 查看当前激活的Agent

## 协作模式

### 团队协作
```
/team [项目名] --agents "pm,designer,frontend,backend"
```

### 顺序协作
```
/pm 分析需求 >> /ui 设计界面 >> /fe 实现前端
```

### 并行协作
```
/parallel {
  /fe 开发前端
  /be 开发后端
}
```